import{$ as R,a as r,Y as T,Z as I,_ as E,a0 as C,a1 as N,a2 as U,a3 as D,a4 as S,j as n,t as w,a5 as B}from"./index-635bce38.js";const y="Checkbox",[M,W]=R(y),[q,L]=M(y),O=r.forwardRef((e,a)=>{const{__scopeCheckbox:t,name:d,checked:f,defaultChecked:s,required:h,disabled:l,value:u="on",onCheckedChange:$,...v}=e,[c,p]=r.useState(null),_=T(a,o=>p(o)),x=r.useRef(!1),g=c?!!c.closest("form"):!0,[b=!1,k]=I({prop:f,defaultProp:s,onChange:$}),j=r.useRef(b);return r.useEffect(()=>{const o=c==null?void 0:c.form;if(o){const m=()=>k(j.current);return o.addEventListener("reset",m),()=>o.removeEventListener("reset",m)}},[c,k]),r.createElement(q,{scope:t,state:b,disabled:l},r.createElement(E.button,C({type:"button",role:"checkbox","aria-checked":i(b)?"mixed":b,"aria-required":h,"data-state":P(b),"data-disabled":l?"":void 0,disabled:l,value:u},v,{ref:_,onKeyDown:N(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:N(e.onClick,o=>{k(m=>i(m)?!0:!m),g&&(x.current=o.isPropagationStopped(),x.current||o.stopPropagation())})})),g&&r.createElement(z,{control:c,bubbles:!x.current,name:d,value:u,checked:b,required:h,disabled:l,style:{transform:"translateX(-100%)"}}))}),A="CheckboxIndicator",K=r.forwardRef((e,a)=>{const{__scopeCheckbox:t,forceMount:d,...f}=e,s=L(A,t);return r.createElement(U,{present:d||i(s.state)||s.state===!0},r.createElement(E.span,C({"data-state":P(s.state),"data-disabled":s.disabled?"":void 0},f,{ref:a,style:{pointerEvents:"none",...e.style}})))}),z=e=>{const{control:a,checked:t,bubbles:d=!0,...f}=e,s=r.useRef(null),h=D(t),l=S(a);return r.useEffect(()=>{const u=s.current,$=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor($,"checked").set;if(h!==t&&c){const p=new Event("click",{bubbles:d});u.indeterminate=i(t),c.call(u,i(t)?!1:t),u.dispatchEvent(p)}},[h,t,d]),r.createElement("input",C({type:"checkbox","aria-hidden":!0,defaultChecked:i(t)?!1:t},f,{tabIndex:-1,ref:s,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function i(e){return e==="indeterminate"}function P(e){return i(e)?"indeterminate":e?"checked":"unchecked"}const H=O,X=K,F=r.forwardRef(({className:e,...a},t)=>n(H,{...a,ref:t,className:w("border-foreground-700 focus-visible:border-primary-600 data-[state=checked]:bg-primary-600 data-[state=checked]:text-primary-50 peer h-4 w-4 shrink-0 rounded-sm border shadow focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",a.hasError&&"border-negative-600 hover:border-negative-600 focus-visible:border-negative-600",e),children:n(X,{className:"flex items-center justify-center text-current",children:n(B,{size:16},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:23,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:22,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:12,columnNumber:5},globalThis)),Y=r.forwardRef(({label:e,...a},t)=>n("label",{className:"flex items-start gap-2",children:[n("div",{className:"pt-px",children:n(F,{...a,ref:t},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:39,columnNumber:7},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:38,columnNumber:5},globalThis),e&&n("div",{className:w("text-foreground-900 text-base",a.hasError&&"text-negative-600"),children:e},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:42,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/packages/ui/Checkbox.tsx",lineNumber:37,columnNumber:3},globalThis));export{F as C,Y as a};
