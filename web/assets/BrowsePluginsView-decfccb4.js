import{a as v,c as n,j as e,T as s,P as w,o as x,B as d,k as b,i as I,F as P,I as F,p as U,q as r,s as o,v as N,w as k,n as S,x as y}from"./index-1a8286a7.js";const c=function(){var t=[{defaultValue:null,kind:"LocalArgument",name:"url"}],a=[{fields:[{kind:"Literal",name:"override",value:!0},{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"input"}];return{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"BrowsePluginsViewInstallFromUrlMutation",selections:[{alias:null,args:a,concreteType:"PluginInstallation",kind:"LinkedField",name:"installPlugin",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"SettingsView_pluginInstallation"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"BrowsePluginsViewInstallFromUrlMutation",selections:[{alias:null,args:a,concreteType:"PluginInstallation",kind:"LinkedField",name:"installPlugin",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]},params:{cacheID:"cc161f5cb3b1562ceae17bd8c16f6493",id:null,metadata:{},name:"BrowsePluginsViewInstallFromUrlMutation",operationKind:"mutation",text:`mutation BrowsePluginsViewInstallFromUrlMutation(
  $url: String!
) {
  installPlugin(input: {url: $url, override: true}) {
    ...SettingsView_pluginInstallation
  }
}

fragment PluginSettingsView_pluginInstallation on PluginInstallation {
  slug
  url
  ...UpdatePluginButton_pluginInstallation
}

fragment SettingsView_pluginInstallation on PluginInstallation {
  slug
  ...PluginSettingsView_pluginInstallation
}

fragment UpdatePluginButton_pluginInstallation on PluginInstallation {
  url
}
`}}}();c.hash="4f4f74d2ecc6236cbafeef37e811c839";const _=[{iconUrl:"FlowIcon.svg",name:"Essentials",description:"The official and default plugin for Flow containing essential features such as a morning routine and a shutdown routine.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/essentials@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://ssl.gstatic.com/calendar/images/dynamiclogo_2020q4/calendar_19_2x.png",name:"Google Calendar",description:"Official Google Calendar plugin for Flow.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/google-calendar@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://cdn-icons-png.flaticon.com/512/25/25231.png",name:"GitHub Notifications",description:"Official GitHub plugin for Flow. It currently only gets your requested reviews.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/github@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://gitstart.com/_astro/logo_black_small.e7d67670.svg",name:"GitStart",description:"Official GitStart plugin for Flow.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/gitstart@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]}],L=()=>{const[t,a]=v.useState(!1);return n("div",{className:"max-w-1488px mx-auto flex w-full flex-col gap-8 p-16",children:[n("div",{className:"flex w-full flex-col gap-2",children:[e("div",{className:"w-full text-center text-3xl font-extrabold",children:"Browse plugins"}),e("div",{className:"w-full text-center text-base",children:"Sprinkle a little magic in your day"})]}),n("div",{className:"flex flex-col gap-4",children:[n("div",{className:"bg-background-50 flex items-center justify-between gap-3 rounded-md p-3",children:[n(s,{delayDuration:100,children:[e(r,{children:e(F,{disabled:!0,placeholder:"Search...",leftIcon:e(U,{})})}),e(o,{side:"bottom",children:"Search is not yet implemented"})]}),n(w,{open:t,onOpenChange:a,children:[e(k,{children:n(s,{children:[e(r,{asChild:!0,children:e("button",{className:"hover:bg-background-200 text-foreground-700 rounded p-2",children:e(N,{})})}),e(o,{side:"bottom",children:"Install a plugin from a URL"})]})}),e(x,{align:"end",className:"w-96",children:e(B,{onClose:()=>a(!1)})})]})]}),e("div",{className:"grid grid-cols-3 gap-4",children:_.map(l=>n("div",{className:"bg-background-50 min-w-xs flex flex-col gap-2 rounded p-4 shadow-md",children:[n("div",{className:"flex flex-col gap-1",children:[n("div",{className:"flex items-center justify-between",children:[n("div",{className:"flex items-center gap-2",children:[e("img",{src:l.iconUrl,className:"h-5 w-5"}),e("div",{className:"text-base font-medium",children:l.name})]}),e(d,{secondary:!0,children:"Install"})]}),e("div",{className:"text-foreground-700 text-sm",children:l.description})]}),e("div",{className:"text-foreground-700 flex items-center gap-4 text-sm",children:n("div",{className:"flex gap-2",children:["v",l.version]})}),n("div",{className:"text-foreground-900 flex items-center gap-2 text-sm",children:[l.authors[0].avatarUrl&&e("img",{src:l.authors[0].avatarUrl,className:"ring-primary-100 inline-block h-5 w-5 rounded-full ring"}),l.authors[0].name,l.authors.length>1&&` & ${l.authors.length-1} more`]})]},l.name))})]})]})},B=t=>{const{register:a,formState:l,handleSubmit:u,setError:g}=b(),[m,p]=I(c);return n("form",{onSubmit:u(f=>{m({variables:f,updater:i=>{const h=i.getPluralRootField("installPlugin");i.getRoot().setLinkedRecords(h,"installedPlugins")},onCompleted:i=>{S.success("Plugin installed"),t.onClose()},onError:i=>g("url",{message:i.message})})}),className:"flex gap-2 break-all",children:[e(P,{...a("url",{required:"A URL is required"}),placeholder:"https://cdn.jsdelivr.net/npm/package@version/dist",error:l.errors.url,fullWidth:!0}),e("div",{className:"flex-grow-0",children:e(d,{loading:p,className:"py-2.5",children:e(y,{size:"16px"})})})]})};export{L as default};
