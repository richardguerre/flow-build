import{b as u,j as e,r as o,V as g,S as c,O as d,c as m,e as b,t as w,f,g as p}from"./index-635bce38.js";const t=function(){var s={alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SettingsViewQuery",selections:[{alias:null,args:null,concreteType:"PluginInstallation",kind:"LinkedField",name:"installedPlugins",plural:!0,selections:[s,{args:null,kind:"FragmentSpread",name:"PluginSettingsView_pluginInstallation"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SettingsViewQuery",selections:[{alias:null,args:null,concreteType:"PluginInstallation",kind:"LinkedField",name:"installedPlugins",plural:!0,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]},params:{cacheID:"169ee327bcecb935b78f5c02348575e2",id:null,metadata:{},name:"SettingsViewQuery",operationKind:"query",text:`query SettingsViewQuery {
  installedPlugins {
    slug
    ...PluginSettingsView_pluginInstallation
  }
}

fragment PluginSettingsView_pluginInstallation on PluginInstallation {
  slug
  url
  ...UpdatePluginButton_pluginInstallation
}

fragment UpdatePluginButton_pluginInstallation on PluginInstallation {
  url
}
`}}}();t.hash="d797a1ad478fef6dfddf23a01caab468";const a=t,P=()=>{const{queryRef:s}=u(a,{},{fetchPolicy:"store-and-network"});return s?e(N,{queryRef:s},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:33,columnNumber:10},globalThis):null},N=s=>{const l=o.usePreloadedQuery(a,s.queryRef);return e("div",{className:"flex w-full",children:[e("div",{className:"bg-background-50 w-63 z-10 flex flex-shrink-0 flex-col gap-4 p-4 shadow-xl",children:[e("div",{className:"text-base font-semibold",children:"Settings"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:46,columnNumber:9},globalThis),e("div",{className:"flex flex-col gap-2",children:[e(i,{to:"/settings/general",children:"General"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:48,columnNumber:11},globalThis),e(i,{to:"/settings/routines",children:"Routines"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:50,columnNumber:11},globalThis),e(i,{to:"/settings/browse-plugins",children:"Browse plugins"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:51,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:47,columnNumber:9},globalThis),e("div",{className:"flex flex-col gap-2",children:[e("div",{className:"text-base font-semibold",children:"Plugin settings"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:54,columnNumber:11},globalThis),l.installedPlugins.map(r=>e(h,{slug:r.slug},r.slug,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:56,columnNumber:13},globalThis))]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:53,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:45,columnNumber:7},globalThis),e(g,{children:e(c,{children:e(d,{context:l},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:62,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:61,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:60,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:44,columnNumber:5},globalThis)},i=s=>{const l=m(s.to);return e(b,{to:s.to,className:w("text-foreground-700 hover:bg-background-200 rounded-md bg-transparent p-2",l&&"bg-primary-100 text-primary-600 hover:bg-primary-100"),children:s.children},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:78,columnNumber:5},globalThis)},h=s=>{const[l,r]=f(async()=>p({pluginSlug:s.slug})),n=`plugin/${s.slug}`;return r?e(i,{to:n,children:s.slug},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:98,columnNumber:23},globalThis):l?"_error"in l?(console.log("SettingViewPluginTab error",l),null):e(i,{to:n,children:l.name},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/SettingsView.tsx",lineNumber:105,columnNumber:10},globalThis):null};export{P as default};
