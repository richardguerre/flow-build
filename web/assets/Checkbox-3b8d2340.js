import{$ as I,a,Z as S,_ as j,a0 as g,a1 as C,a2 as y,a3 as B,a4 as D,a5 as M,j as f,t as w,a6 as q,c as L}from"./index-96445d93.js";const _="Checkbox",[O,J]=I(_),[A,K]=O(_),z=a.forwardRef((e,r)=>{const{__scopeCheckbox:t,name:d,checked:u,defaultChecked:n,required:$,disabled:i,value:l="on",onCheckedChange:h,...v}=e,[c,x]=a.useState(null),R=S(r,o=>x(o)),k=a.useRef(!1),E=c?!!c.closest("form"):!0,[b=!1,m]=j({prop:u,defaultProp:n,onChange:h}),N=a.useRef(b);return a.useEffect(()=>{const o=c==null?void 0:c.form;if(o){const p=()=>m(N.current);return o.addEventListener("reset",p),()=>o.removeEventListener("reset",p)}},[c,m]),a.createElement(A,{scope:t,state:b,disabled:i},a.createElement(g.button,C({type:"button",role:"checkbox","aria-checked":s(b)?"mixed":b,"aria-required":$,"data-state":P(b),"data-disabled":i?"":void 0,disabled:i,value:l},v,{ref:R,onKeyDown:y(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:y(e.onClick,o=>{m(p=>s(p)?!0:!p),E&&(k.current=o.isPropagationStopped(),k.current||o.stopPropagation())})})),E&&a.createElement(X,{control:c,bubbles:!k.current,name:d,value:l,checked:b,required:$,disabled:i,style:{transform:"translateX(-100%)"}}))}),H="CheckboxIndicator",T=a.forwardRef((e,r)=>{const{__scopeCheckbox:t,forceMount:d,...u}=e,n=K(H,t);return a.createElement(B,{present:d||s(n.state)||n.state===!0},a.createElement(g.span,C({"data-state":P(n.state),"data-disabled":n.disabled?"":void 0},u,{ref:r,style:{pointerEvents:"none",...e.style}})))}),X=e=>{const{control:r,checked:t,bubbles:d=!0,...u}=e,n=a.useRef(null),$=D(t),i=M(r);return a.useEffect(()=>{const l=n.current,h=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(h,"checked").set;if($!==t&&c){const x=new Event("click",{bubbles:d});l.indeterminate=s(t),c.call(l,s(t)?!1:t),l.dispatchEvent(x)}},[$,t,d]),a.createElement("input",C({type:"checkbox","aria-hidden":!0,defaultChecked:s(t)?!1:t},u,{tabIndex:-1,ref:n,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function s(e){return e==="indeterminate"}function P(e){return s(e)?"indeterminate":e?"checked":"unchecked"}const F=z,W=T,Z=a.forwardRef(({className:e,...r},t)=>f(F,{...r,ref:t,className:w("border-foreground-700 focus-visible:border-primary-600 data-[state=checked]:bg-primary-600 data-[state=checked]:text-primary-50 peer h-4 w-4 shrink-0 rounded-sm border shadow focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50",r.hasError&&"border-negative-600 hover:border-negative-600 focus-visible:border-negative-600",e),children:f(W,{className:"flex items-center justify-center text-current",children:f(q,{size:16})})})),Q=a.forwardRef(({label:e,...r},t)=>L("label",{className:"flex items-start gap-2",children:[f("div",{className:"pt-px",children:f(Z,{...r,ref:t})}),e&&f("div",{className:w("text-foreground-900 text-base",r.hasError&&"text-negative-600"),children:e})]}));export{Z as C,Q as a};
