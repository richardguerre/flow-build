import{a as f,j as e,T as a,s as n,I as p,A as h,v as o,P as N,E as v,G as P,H as x,B as t,i as U,h as V,F as B,J as j,n as T}from"./index-635bce38.js";const u=function(){var l=[{defaultValue:null,kind:"LocalArgument",name:"url"}],r=[{fields:[{kind:"Literal",name:"override",value:!0},{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"input"}];return{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"BrowsePluginsViewInstallFromUrlMutation",selections:[{alias:null,args:r,concreteType:"PluginInstallation",kind:"LinkedField",name:"installPlugin",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"SettingsView_pluginInstallation"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"BrowsePluginsViewInstallFromUrlMutation",selections:[{alias:null,args:r,concreteType:"PluginInstallation",kind:"LinkedField",name:"installPlugin",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]},params:{cacheID:"cc161f5cb3b1562ceae17bd8c16f6493",id:null,metadata:{},name:"BrowsePluginsViewInstallFromUrlMutation",operationKind:"mutation",text:`mutation BrowsePluginsViewInstallFromUrlMutation(
  $url: String!
) {
  installPlugin(input: {url: $url, override: true}) {
    ...SettingsView_pluginInstallation
  }
}

fragment PluginSettingsView_pluginInstallation on PluginInstallation {
  slug
  url
  ...UpdatePluginButton_pluginInstallation
}

fragment SettingsView_pluginInstallation on PluginInstallation {
  slug
  ...PluginSettingsView_pluginInstallation
}

fragment UpdatePluginButton_pluginInstallation on PluginInstallation {
  url
}
`}}}();u.hash="4f4f74d2ecc6236cbafeef37e811c839";const I=[{iconUrl:"FlowIcon.svg",name:"Essentials",description:"The official and default plugin for Flow containing essential features such as a morning routine and a shutdown routine.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/essentials@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://ssl.gstatic.com/calendar/images/dynamiclogo_2020q4/calendar_19_2x.png",name:"Google Calendar",description:"Official Google Calendar plugin for Flow.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/google-calendar@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://cdn-icons-png.flaticon.com/512/25/25231.png",name:"GitHub Notifications",description:"Official GitHub plugin for Flow. It currently only gets your requested reviews.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/github@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://gitstart.com/_astro/logo_black_small.e7d67670.svg",name:"GitStart",description:"Official GitStart plugin for Flow.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/gitstart@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]}],_=()=>{const[l,r]=f.useState(!1);return e("div",{className:"max-w-1488px mx-auto flex w-full flex-col gap-8 p-16",children:[e("div",{className:"flex w-full flex-col gap-2",children:[e("div",{className:"w-full text-center text-3xl font-extrabold",children:"Browse plugins"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:69,columnNumber:9},globalThis),e("div",{className:"w-full text-center text-base",children:"Sprinkle a little magic in your day"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:70,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:68,columnNumber:7},globalThis),e("div",{className:"flex flex-col gap-4",children:[e("div",{className:"bg-background-50 flex items-center justify-between gap-3 rounded-md p-3",children:[e(a,{delayDuration:100,children:[e(n,{children:e(p,{disabled:!0,placeholder:"Search...",leftIcon:e(h,{},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:76,columnNumber:65},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:76,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:75,columnNumber:13},globalThis),e(o,{side:"bottom",children:"Search is not yet implemented"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:78,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:74,columnNumber:11},globalThis),e(N,{open:l,onOpenChange:r,children:[e(v,{children:e(a,{children:[e(n,{asChild:!0,children:e("button",{className:"hover:bg-background-200 text-foreground-700 rounded p-2",children:e(P,{},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:85,columnNumber:21},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:84,columnNumber:19},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:83,columnNumber:17},globalThis),e(o,{side:"bottom",children:"Install a plugin from a URL"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:88,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:82,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:81,columnNumber:13},globalThis),e(x,{align:"end",className:"w-96",children:e(F,{onClose:()=>r(!1)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:92,columnNumber:15},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:91,columnNumber:13},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:80,columnNumber:11},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:73,columnNumber:9},globalThis),e("div",{className:"grid grid-cols-3 gap-4",children:I.map(s=>e("div",{className:"bg-background-50 min-w-xs flex flex-col gap-2 rounded p-4 shadow-md",children:[e("div",{className:"flex flex-col gap-1",children:[e("div",{className:"flex items-center justify-between",children:[e("div",{className:"flex items-center gap-2",children:[e("img",{src:s.iconUrl,className:"h-5 w-5"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:105,columnNumber:21},globalThis),e("div",{className:"text-base font-medium",children:s.name},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:106,columnNumber:21},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:104,columnNumber:19},globalThis),e(t,{secondary:!0,children:"Install"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:108,columnNumber:19},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:103,columnNumber:17},globalThis),e("div",{className:"text-foreground-700 text-sm",children:s.description},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:110,columnNumber:17},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:102,columnNumber:15},globalThis),e("div",{className:"text-foreground-700 flex items-center gap-4 text-sm",children:e("div",{className:"flex gap-2",children:["v",s.version]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:113,columnNumber:17},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:112,columnNumber:15},globalThis),e("div",{className:"text-foreground-900 flex items-center gap-2 text-sm",children:[s.authors[0].avatarUrl&&e("img",{src:s.authors[0].avatarUrl,className:"ring-primary-100 inline-block h-5 w-5 rounded-full ring"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:117,columnNumber:19},globalThis),s.authors[0].name,s.authors.length>1&&` & ${s.authors.length-1} more`]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:115,columnNumber:15},globalThis)]},s.name,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:98,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:96,columnNumber:9},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:72,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:67,columnNumber:5},globalThis)},F=l=>{const{register:r,formState:s,handleSubmit:c,setError:m}=U(),[g,w]=V(u);return e("form",{onSubmit:c(d=>{g({variables:d,updater:i=>{const b=i.getPluralRootField("installPlugin");i.getRoot().setLinkedRecords(b,"installedPlugins")},onCompleted:i=>{T.success("Plugin installed"),l.onClose()},onError:i=>m("url",{message:i.message})})}),className:"flex gap-2 break-all",children:[e(B,{...r("url",{required:"A URL is required"}),placeholder:"https://cdn.jsdelivr.net/npm/package@version/dist",error:s.errors.url,fullWidth:!0},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:166,columnNumber:7},globalThis),e("div",{className:"flex-grow-0",children:e(t,{loading:w,className:"py-2.5",children:e(j,{size:"16px"},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:174,columnNumber:11},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:173,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:172,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/richardguerre/Projects/flow/apps/web/src/views/BrowsePluginsView.tsx",lineNumber:165,columnNumber:5},globalThis)};export{_ as default};
