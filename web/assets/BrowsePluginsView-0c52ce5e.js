import{a as o,R as Te,$ as Z,_ as P,l as te,m as Q,o as Ae,p as me,q as _e,s as Me,v as Le,w as pe,x as De,y as U,z as Ue,A as Be,C as We,j as g,t as Ve,b as x,T as ne,B as ge,h as Ke,E as je,F as re,G as ae,H as He,n as Ge,I as Xe}from"./index-c866acf4.js";import{u as Ye,F as qe,I as ze}from"./FormInput-7b0a017f.js";const Ze=o.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...c}=e;return r?Te.createPortal(o.createElement(Z.div,P({},c,{ref:t})),r):null}),he=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"url"}],t=[{fields:[{kind:"Literal",name:"override",value:!0},{kind:"Variable",name:"url",variableName:"url"}],kind:"ObjectValue",name:"input"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"BrowsePluginsViewInstallFromUrlMutation",selections:[{alias:null,args:t,concreteType:"PluginInstallation",kind:"LinkedField",name:"installPlugin",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"SettingsView_pluginInstallation"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"BrowsePluginsViewInstallFromUrlMutation",selections:[{alias:null,args:t,concreteType:"PluginInstallation",kind:"LinkedField",name:"installPlugin",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}]},params:{cacheID:"cc161f5cb3b1562ceae17bd8c16f6493",id:null,metadata:{},name:"BrowsePluginsViewInstallFromUrlMutation",operationKind:"mutation",text:`mutation BrowsePluginsViewInstallFromUrlMutation(
  $url: String!
) {
  installPlugin(input: {url: $url, override: true}) {
    ...SettingsView_pluginInstallation
  }
}

fragment PluginSettingsView_pluginInstallation on PluginInstallation {
  slug
  url
  ...UpdatePluginButton_pluginInstallation
}

fragment SettingsView_pluginInstallation on PluginInstallation {
  slug
  ...PluginSettingsView_pluginInstallation
}

fragment UpdatePluginButton_pluginInstallation on PluginInstallation {
  url
}
`}}}();he.hash="4f4f74d2ecc6236cbafeef37e811c839";let j=0;function Qe(){o.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:oe()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:oe()),j++,()=>{j===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),j--}},[])}function oe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const H="focusScope.autoFocusOnMount",G="focusScope.autoFocusOnUnmount",ce={bubbles:!1,cancelable:!0},Je=o.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:c,onUnmountAutoFocus:i,...s}=e,[a,h]=o.useState(null),v=te(c),m=te(i),u=o.useRef(null),f=Q(t,l=>h(l)),p=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let l=function(y){if(p.paused||!a)return;const $=y.target;a.contains($)?u.current=$:F(u.current,{select:!0})},d=function(y){if(p.paused||!a)return;const $=y.relatedTarget;$!==null&&(a.contains($)||F(u.current,{select:!0}))},b=function(y){const $=document.activeElement;for(const w of y)w.removedNodes.length>0&&(a!=null&&a.contains($)||F(a))};document.addEventListener("focusin",l),document.addEventListener("focusout",d);const E=new MutationObserver(b);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",l),document.removeEventListener("focusout",d),E.disconnect()}}},[r,a,p.paused]),o.useEffect(()=>{if(a){le.add(p);const l=document.activeElement;if(!a.contains(l)){const b=new CustomEvent(H,ce);a.addEventListener(H,v),a.dispatchEvent(b),b.defaultPrevented||(et(ot(be(a)),{select:!0}),document.activeElement===l&&F(a))}return()=>{a.removeEventListener(H,v),setTimeout(()=>{const b=new CustomEvent(G,ce);a.addEventListener(G,m),a.dispatchEvent(b),b.defaultPrevented||F(l??document.body,{select:!0}),a.removeEventListener(G,m),le.remove(p)},0)}}},[a,v,m,p]);const C=o.useCallback(l=>{if(!n&&!r||p.paused)return;const d=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,b=document.activeElement;if(d&&b){const E=l.currentTarget,[y,$]=tt(E);y&&$?!l.shiftKey&&b===$?(l.preventDefault(),n&&F(y,{select:!0})):l.shiftKey&&b===y&&(l.preventDefault(),n&&F($,{select:!0})):b===E&&l.preventDefault()}},[n,r,p.paused]);return o.createElement(Z.div,P({tabIndex:-1},s,{ref:f,onKeyDown:C}))});function et(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(F(r,{select:t}),document.activeElement!==n)return}function tt(e){const t=be(e),n=ie(t,e),r=ie(t.reverse(),e);return[n,r]}function be(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const c=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||c?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ie(e,t){for(const n of e)if(!nt(n,{upTo:t}))return n}function nt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rt(e){return e instanceof HTMLInputElement&&"select"in e}function F(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rt(e)&&t&&e.select()}}const le=at();function at(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=se(e,t),e.unshift(t)},remove(t){var n;e=se(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function se(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ot(e){return e.filter(t=>t.tagName!=="A")}var ct=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},R=new WeakMap,_=new WeakMap,M={},X=0,$e=function(e){return e&&(e.host||$e(e.parentNode))},it=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=$e(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lt=function(e,t,n,r){var c=it(t,Array.isArray(e)?e:[e]);M[n]||(M[n]=new WeakMap);var i=M[n],s=[],a=new Set,h=new Set(c),v=function(u){!u||a.has(u)||(a.add(u),v(u.parentNode))};c.forEach(v);var m=function(u){!u||h.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))m(f);else{var p=f.getAttribute(r),C=p!==null&&p!=="false",l=(R.get(f)||0)+1,d=(i.get(f)||0)+1;R.set(f,l),i.set(f,d),s.push(f),l===1&&C&&_.set(f,!0),d===1&&f.setAttribute(n,"true"),C||f.setAttribute(r,"true")}})};return m(t),a.clear(),X++,function(){s.forEach(function(u){var f=R.get(u)-1,p=i.get(u)-1;R.set(u,f),i.set(u,p),f||(_.has(u)||u.removeAttribute(r),_.delete(u)),p||u.removeAttribute(n)}),X--,X||(R=new WeakMap,R=new WeakMap,_=new WeakMap,M={})}},st=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),c=t||ct(e);return c?(r.push.apply(r,Array.from(c.querySelectorAll("[aria-live]"))),lt(r,c,n,"aria-hidden")):function(){return null}},S=function(){return S=Object.assign||function(t){for(var n,r=1,c=arguments.length;r<c;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S.apply(this,arguments)};function ye(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(e);c<r.length;c++)t.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(e,r[c])&&(n[r[c]]=e[r[c]]);return n}function ut(e,t,n){if(n||arguments.length===2)for(var r=0,c=t.length,i;r<c;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var B="right-scroll-bar-position",W="width-before-scroll-bar",dt="with-scroll-bars-hidden",ft="--removed-body-scroll-bar-size";function vt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mt(e,t){var n=o.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var c=n.value;c!==r&&(n.value=r,n.callback(r,c))}}}})[0];return n.callback=t,n.facade}function pt(e,t){return mt(t||null,function(n){return e.forEach(function(r){return vt(r,n)})})}function gt(e){return e}function ht(e,t){t===void 0&&(t=gt);var n=[],r=!1,c={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var h=function(){var m=s;s=[],m.forEach(i)},v=function(){return Promise.resolve().then(h)};v(),n={push:function(m){s.push(m),v()},filter:function(m){return s=s.filter(m),n}}}};return c}function bt(e){e===void 0&&(e={});var t=ht(null);return t.options=S({async:!0,ssr:!1},e),t}var we=function(e){var t=e.sideCar,n=ye(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,S({},n))};we.isSideCarExport=!0;function $t(e,t){return e.useMedium(t),we}var Ee=bt(),Y=function(){},V=o.forwardRef(function(e,t){var n=o.useRef(null),r=o.useState({onScrollCapture:Y,onWheelCapture:Y,onTouchMoveCapture:Y}),c=r[0],i=r[1],s=e.forwardProps,a=e.children,h=e.className,v=e.removeScrollBar,m=e.enabled,u=e.shards,f=e.sideCar,p=e.noIsolation,C=e.inert,l=e.allowPinchZoom,d=e.as,b=d===void 0?"div":d,E=ye(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),y=f,$=pt([n,t]),w=S(S({},E),c);return o.createElement(o.Fragment,null,m&&o.createElement(y,{sideCar:Ee,removeScrollBar:v,shards:u,noIsolation:p,inert:C,setCallbacks:i,allowPinchZoom:!!l,lockRef:n}),s?o.cloneElement(o.Children.only(a),S(S({},w),{ref:$})):o.createElement(b,S({},w,{className:h,ref:$}),a))});V.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V.classNames={fullWidth:W,zeroRight:B};var ue,yt=function(){if(ue)return ue;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wt(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=yt();return t&&e.setAttribute("nonce",t),e}function Et(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xt(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Ct=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wt())&&(Et(t,n),xt(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},St=function(){var e=Ct();return function(t,n){o.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},xe=function(){var e=St(),t=function(n){var r=n.styles,c=n.dynamic;return e(r,c),null};return t},Pt={left:0,top:0,right:0,gap:0},q=function(e){return parseInt(e||"",10)||0},Ft=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],c=t[e==="padding"?"paddingRight":"marginRight"];return[q(n),q(r),q(c)]},Rt=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pt;var t=Ft(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},kt=xe(),It=function(e,t,n,r){var c=e.left,i=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dt,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(c,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(B,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(W,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(B," .").concat(B,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(W," .").concat(W,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(ft,": ").concat(a,`px;
  }
`)},Ot=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,c=r===void 0?"margin":r,i=o.useMemo(function(){return Rt(c)},[c]);return o.createElement(kt,{styles:It(i,!t,c,n?"":"!important")})},z=!1;if(typeof window<"u")try{var L=Object.defineProperty({},"passive",{get:function(){return z=!0,!0}});window.addEventListener("test",L,L),window.removeEventListener("test",L,L)}catch{z=!1}var k=z?{passive:!1}:!1,Nt=function(e){return e.tagName==="TEXTAREA"},Ce=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Nt(e)&&n[t]==="visible")},Tt=function(e){return Ce(e,"overflowY")},At=function(e){return Ce(e,"overflowX")},de=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=Se(e,n);if(r){var c=Pe(e,n),i=c[1],s=c[2];if(i>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},_t=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Mt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Se=function(e,t){return e==="v"?Tt(t):At(t)},Pe=function(e,t){return e==="v"?_t(t):Mt(t)},Lt=function(e,t){return e==="h"&&t==="rtl"?-1:1},Dt=function(e,t,n,r,c){var i=Lt(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,h=t.contains(a),v=!1,m=s>0,u=0,f=0;do{var p=Pe(e,a),C=p[0],l=p[1],d=p[2],b=l-d-i*C;(C||b)&&Se(e,a)&&(u+=b,f+=C),a=a.parentNode}while(!h&&a!==document.body||h&&(t.contains(a)||t===a));return(m&&(c&&u===0||!c&&s>u)||!m&&(c&&f===0||!c&&-s>f))&&(v=!0),v},D=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},fe=function(e){return[e.deltaX,e.deltaY]},ve=function(e){return e&&"current"in e?e.current:e},Ut=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wt=0,I=[];function Vt(e){var t=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),c=o.useState(Wt++)[0],i=o.useState(function(){return xe()})[0],s=o.useRef(e);o.useEffect(function(){s.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var l=ut([e.lockRef.current],(e.shards||[]).map(ve),!0).filter(Boolean);return l.forEach(function(d){return d.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),l.forEach(function(d){return d.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var a=o.useCallback(function(l,d){if("touches"in l&&l.touches.length===2)return!s.current.allowPinchZoom;var b=D(l),E=n.current,y="deltaX"in l?l.deltaX:E[0]-b[0],$="deltaY"in l?l.deltaY:E[1]-b[1],w,K=l.target,N=Math.abs(y)>Math.abs($)?"h":"v";if("touches"in l&&N==="h"&&K.type==="range")return!1;var A=de(N,K);if(!A)return!0;if(A?w=N:(w=N==="v"?"h":"v",A=de(N,K)),!A)return!1;if(!r.current&&"changedTouches"in l&&(y||$)&&(r.current=w),!w)return!0;var ee=r.current||w;return Dt(ee,d,l,ee==="h"?y:$,!0)},[]),h=o.useCallback(function(l){var d=l;if(!(!I.length||I[I.length-1]!==i)){var b="deltaY"in d?fe(d):D(d),E=t.current.filter(function(w){return w.name===d.type&&w.target===d.target&&Ut(w.delta,b)})[0];if(E&&E.should){d.cancelable&&d.preventDefault();return}if(!E){var y=(s.current.shards||[]).map(ve).filter(Boolean).filter(function(w){return w.contains(d.target)}),$=y.length>0?a(d,y[0]):!s.current.noIsolation;$&&d.cancelable&&d.preventDefault()}}},[]),v=o.useCallback(function(l,d,b,E){var y={name:l,delta:d,target:b,should:E};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function($){return $!==y})},1)},[]),m=o.useCallback(function(l){n.current=D(l),r.current=void 0},[]),u=o.useCallback(function(l){v(l.type,fe(l),l.target,a(l,e.lockRef.current))},[]),f=o.useCallback(function(l){v(l.type,D(l),l.target,a(l,e.lockRef.current))},[]);o.useEffect(function(){return I.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",h,k),document.addEventListener("touchmove",h,k),document.addEventListener("touchstart",m,k),function(){I=I.filter(function(l){return l!==i}),document.removeEventListener("wheel",h,k),document.removeEventListener("touchmove",h,k),document.removeEventListener("touchstart",m,k)}},[]);var p=e.removeScrollBar,C=e.inert;return o.createElement(o.Fragment,null,C?o.createElement(i,{styles:Bt(c)}):null,p?o.createElement(Ot,{gapMode:"margin"}):null)}const Kt=$t(Ee,Vt);var Fe=o.forwardRef(function(e,t){return o.createElement(V,S({},e,{ref:t,sideCar:Kt}))});Fe.classNames=V.classNames;const jt=Fe,Re="Popover",[ke,vn]=Ae(Re,[me]),J=me(),[Ht,O]=ke(Re),Gt=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:c,onOpenChange:i,modal:s=!1}=e,a=J(t),h=o.useRef(null),[v,m]=o.useState(!1),[u=!1,f]=_e({prop:r,defaultProp:c,onChange:i});return o.createElement(Me,a,o.createElement(Ht,{scope:t,contentId:Le(),triggerRef:h,open:u,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:v,onCustomAnchorAdd:o.useCallback(()=>m(!0),[]),onCustomAnchorRemove:o.useCallback(()=>m(!1),[]),modal:s},n))},Xt="PopoverTrigger",Yt=o.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,c=O(Xt,n),i=J(n),s=Q(t,c.triggerRef),a=o.createElement(Z.button,P({type:"button","aria-haspopup":"dialog","aria-expanded":c.open,"aria-controls":c.contentId,"data-state":Ne(c.open)},r,{ref:s,onClick:U(e.onClick,c.onOpenToggle)}));return c.hasCustomAnchor?a:o.createElement(We,P({asChild:!0},i),a)}),Ie="PopoverPortal",[qt,zt]=ke(Ie,{forceMount:void 0}),Zt=e=>{const{__scopePopover:t,forceMount:n,children:r,container:c}=e,i=O(Ie,t);return o.createElement(qt,{scope:t,forceMount:n},o.createElement(pe,{present:n||i.open},o.createElement(Ze,{asChild:!0,container:c},r)))},T="PopoverContent",Qt=o.forwardRef((e,t)=>{const n=zt(T,e.__scopePopover),{forceMount:r=n.forceMount,...c}=e,i=O(T,e.__scopePopover);return o.createElement(pe,{present:r||i.open},i.modal?o.createElement(Jt,P({},c,{ref:t})):o.createElement(en,P({},c,{ref:t})))}),Jt=o.forwardRef((e,t)=>{const n=O(T,e.__scopePopover),r=o.useRef(null),c=Q(t,r),i=o.useRef(!1);return o.useEffect(()=>{const s=r.current;if(s)return st(s)},[]),o.createElement(jt,{as:De,allowPinchZoom:!0},o.createElement(Oe,P({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:U(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),i.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:U(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,h=a.button===0&&a.ctrlKey===!0,v=a.button===2||h;i.current=v},{checkForDefaultPrevented:!1}),onFocusOutside:U(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),en=o.forwardRef((e,t)=>{const n=O(T,e.__scopePopover),r=o.useRef(!1),c=o.useRef(!1);return o.createElement(Oe,P({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,i),!i.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),i.preventDefault()}r.current=!1,c.current=!1},onInteractOutside:i=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(c.current=!0));const h=i.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(h))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&c.current&&i.preventDefault()}}))}),Oe=o.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:c,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:v,onInteractOutside:m,...u}=e,f=O(T,n),p=J(n);return Qe(),o.createElement(Je,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:c,onUnmountAutoFocus:i},o.createElement(Ue,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:m,onEscapeKeyDown:a,onPointerDownOutside:h,onFocusOutside:v,onDismiss:()=>f.onOpenChange(!1)},o.createElement(Be,P({"data-state":Ne(f.open),role:"dialog",id:f.contentId},p,u,{ref:t,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function Ne(e){return e?"open":"closed"}const tn=Gt,nn=Yt,rn=Zt,an=Qt,on=tn,cn=nn,ln=o.forwardRef((e,t)=>g(rn,{children:g(an,{...e,ref:t,className:Ve("bg-background-50 ring-0.5 ring-primary-100 animate-fade-in animate-duration-100 z-50 rounded-md p-2 shadow-md outline-none",e.className)})})),sn=[{iconUrl:"FlowIcon.svg",name:"Essentials",description:"The official and default plugin for Flow containing essential features such as a morning routine and a shutdown routine.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/essentials@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]},{iconUrl:"https://ssl.gstatic.com/calendar/images/dynamiclogo_2020q4/calendar_19_2x.png",name:"Google Calendar",description:"Official Google Calendar plugin for Flow.",installUrl:"https://cdn.jsdelivr.net/npm/@flowdev/google-calendar@0.1.0/out",version:"0.1.0",authors:[{name:"Flow",avatarUrl:"FlowIcon.svg"}]}],mn=()=>{const[e,t]=o.useState(!1);return x("div",{className:"max-w-1488px mx-auto flex w-full flex-col gap-8 p-16",children:[x("div",{className:"flex w-full flex-col gap-2",children:[g("div",{className:"w-full text-center text-3xl font-extrabold",children:"Browse plugins"}),g("div",{className:"w-full text-center text-base",children:"Sprinkle a little magic in your day"})]}),x("div",{className:"flex flex-col gap-4",children:[x("div",{className:"bg-background-50 flex items-center justify-between gap-3 rounded-md p-3",children:[x(ne,{delayDuration:100,children:[g(re,{children:g(ze,{disabled:!0,placeholder:"Search...",leftIcon:g(je,{})})}),g(ae,{side:"bottom",children:"Search is not yet implemented"})]}),x(on,{open:e,onOpenChange:t,children:[g(cn,{children:x(ne,{children:[g(re,{asChild:!0,children:g("button",{className:"hover:bg-background-200 text-foreground-700 rounded p-2",children:g(He,{})})}),g(ae,{side:"bottom",children:"Install a plugin from a URL"})]})}),g(ln,{align:"end",className:"w-96",children:g(un,{onClose:()=>t(!1)})})]})]}),g("div",{className:"grid grid-cols-3 gap-4",children:sn.map(n=>x("div",{className:"bg-background-50 min-w-xs flex flex-col gap-2 rounded p-4 shadow-md",children:[x("div",{className:"flex flex-col gap-1",children:[x("div",{className:"flex items-center justify-between",children:[x("div",{className:"flex items-center gap-2",children:[g("img",{src:n.iconUrl,className:"h-5 w-5"}),g("div",{className:"text-base font-medium",children:n.name})]}),g(ge,{secondary:!0,children:"Install"})]}),g("div",{className:"text-foreground-700 text-sm",children:n.description})]}),g("div",{className:"text-foreground-700 flex items-center gap-4 text-sm",children:x("div",{className:"flex gap-2",children:["v",n.version]})}),x("div",{className:"text-foreground-900 flex items-center gap-2 text-sm",children:[n.authors[0].avatarUrl&&g("img",{src:n.authors[0].avatarUrl,className:"ring-primary-100 inline-block h-5 w-5 rounded-full ring"}),n.authors[0].name,n.authors.length>1&&` & ${n.authors.length-1} more`]})]},n.name))})]})]})},un=e=>{const{register:t,formState:n,handleSubmit:r,setError:c}=Ye(),[i,s]=Ke(he);return x("form",{onSubmit:r(h=>{i({variables:h,updater:v=>{const m=v.getPluralRootField("installPlugin");v.getRoot().setLinkedRecords(m,"installedPlugins")},onCompleted:v=>{Ge.success("Plugin installed"),e.onClose()},onError:v=>c("url",{message:v.message})})}),className:"flex gap-2 break-all",children:[g(qe,{...t("url",{required:"A URL is required"}),placeholder:"https://cdn.jsdelivr.net/npm/package@version/dist",error:n.errors.url,fullWidth:!0}),g("div",{className:"flex-grow-0",children:g(ge,{loading:s,className:"py-2.5",children:g(Xe,{size:"16px"})})})]})};export{mn as default};
